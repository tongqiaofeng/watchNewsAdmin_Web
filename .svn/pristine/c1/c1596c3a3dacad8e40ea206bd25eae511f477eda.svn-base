{"remainingRequest":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\src\\components\\appointment-deal-completed.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\src\\components\\appointment-deal-completed.vue","mtime":1615542135107},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzZXJ2ZUxpc3Q6IFtdLAogICAgICByZXNlcnZlRmlsdGVyTGlzdDogW10sCiAgICAgIHJlc2VydmVNc2c6ICfmlbDmja7liqDovb3kuK0uLi4nLAogICAgICBsaXN0OiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgcGFnZU51bTogMTAsCiAgICAgIHRvdGFsOiAwLAoKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJlc2VydmVMaXN0KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJlc2VydmVMaXN0KCkgewogICAgICB0aGlzLnJlc2VydmVMaXN0ID0gW107CiAgICAgIHRoaXMucmVzZXJ2ZUZpbHRlckxpc3QgPSBbXTsKICAgICAgdGhpcy5yZXNlcnZlTXNnID0gJ+aVsOaNruWKoOi9veS4rS4uLic7CiAgICAgIHRoaXMuJGF4aW9zLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICcvcmVzZXJ2ZUxpc3QnKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ+mihOe6puWIl+ihqCcpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5yZXNlcnZlTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzZXJ2ZUxpc3QpOwogICAgICAgIGlmICh0aGlzLnJlc2VydmVMaXN0Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlc2VydmVMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnJlc2VydmVMaXN0W2ldLmZsYWcgPT0gMSkgewogICAgICAgICAgICAgIHRoaXMucmVzZXJ2ZUZpbHRlckxpc3QucHVzaCh0aGlzLnJlc2VydmVMaXN0W2ldKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLnRvdGFsID0gdGhpcy5yZXNlcnZlRmlsdGVyTGlzdC5sZW5ndGg7CiAgICAgICAgaWYgKHRoaXMucmVzZXJ2ZUZpbHRlckxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgIHRoaXMucmVzZXJ2ZU1zZyA9ICfllYrlk6Z+IOaaguaXoOaVsOaNri4uLicKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSkKICAgIH0sCiAgICAvLyDliIbpobXlpITnkIbmlbDmja4KICAgIGdldExpc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKCfliIbpobXmlbDmja4nKTsKICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgIHRoaXMudG90YWwgPSB0aGlzLnJlc2VydmVGaWx0ZXJMaXN0Lmxlbmd0aDsKICAgICAgY29uc29sZS5sb2codGhpcy5yZXNlcnZlRmlsdGVyTGlzdCk7CiAgICAgIC8vIGVzNui/h+a7pOW+l+WIsOa7oei2s+aQnOe0ouadoeS7tueahOWxleekuuaVsOaNrmxpc3QKICAgICAgdGhpcy5saXN0ID0gdGhpcy5yZXNlcnZlRmlsdGVyTGlzdC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PgogICAgICAgIGluZGV4IDwgdGhpcy5wYWdlICogdGhpcy5wYWdlTnVtICYmIGluZGV4ID49IHRoaXMucGFnZU51bSAqICh0aGlzLnBhZ2UgLSAxKQogICAgICApOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOwogICAgfSwKICAgIC8vIOWIhumhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCk7CiAgICAgIHRoaXMucGFnZSA9IHZhbDsKCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAvLyAoZnVuY3Rpb24gc21vb3Roc2Nyb2xsKCkgewogICAgICAvLyAgIGxldCBjdXJyZW50U2Nyb2xsID0KICAgICAgLy8gICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7CiAgICAgIC8vICAgaWYgKGN1cnJlbnRTY3JvbGwgPiAwKSB7CiAgICAgIC8vICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNtb290aHNjcm9sbCk7CiAgICAgIC8vICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgY3VycmVudFNjcm9sbCAtIGN1cnJlbnRTY3JvbGwgLyA1KTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0pKCk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["appointment-deal-completed.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"appointment-deal-completed.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"appointment-deal-container\">\r\n    <!-- <span>预约处理</span> -->\r\n    <div v-if=\"reserveFilterList.length == 0\" style=\"text-align: center;\">\r\n      <p>{{reserveMsg}}</p>\r\n    </div>\r\n    <div v-else>\r\n      <table class=\"borrow-table\">\r\n        <tr>\r\n          <th>姓名</th>\r\n          <th>联系方式</th>\r\n          <th>提交时间</th>\r\n          <th>处理时间</th>\r\n          <th>咨询内容</th>\r\n          <th>备注</th>\r\n        </tr>\r\n        <tr v-for=\"(item,index) in list\" :key=\"index\">\r\n          <td>\r\n            <p>{{item.name}}</p>\r\n          </td>\r\n          <td>\r\n            <p>{{'+' + item.phoneNumber}}</p>\r\n          </td>\r\n          <td>\r\n            <p>{{item.createTime}}</p>\r\n          </td>\r\n          <td>\r\n            <p>{{item.handleTime}}</p>\r\n          </td>\r\n          <td>\r\n            <p style=\"text-align: left;\">{{item.content}}</p>\r\n          </td>\r\n          <td>\r\n            <p>{{item.note == '' ? '无' : item.note}}</p>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <div style=\"width: 100%;height: 50px;\">\r\n        <div style=\"margin:15px 0;position:absolute;right:6%;\">\r\n          <el-pagination @current-change=\"handleCurrentChange\" :current-page=\"page\"\r\n            layout=\"total, prev, pager, next, jumper\" :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        reserveList: [],\r\n        reserveFilterList: [],\r\n        reserveMsg: '数据加载中...',\r\n        list: [],\r\n        page: 1,\r\n        pageNum: 10,\r\n        total: 0,\r\n\r\n      }\r\n    },\r\n    created() {\r\n      this.getReserveList()\r\n    },\r\n    methods: {\r\n      getReserveList() {\r\n        this.reserveList = [];\r\n        this.reserveFilterList = [];\r\n        this.reserveMsg = '数据加载中...';\r\n        this.$axios.post(this.$store.state.baseUrl + '/reserveList').then(res => {\r\n          console.log('预约列表');\r\n          console.log(res);\r\n          this.reserveList = res.data;\r\n          console.log(this.reserveList);\r\n          if (this.reserveList.length !== 0) {\r\n            for (let i = 0; i < this.reserveList.length; i++) {\r\n              if (this.reserveList[i].flag == 1) {\r\n                this.reserveFilterList.push(this.reserveList[i]);\r\n              }\r\n            }\r\n          }\r\n          this.total = this.reserveFilterList.length;\r\n          if (this.reserveFilterList.length == 0) {\r\n            this.reserveMsg = '啊哦~ 暂无数据...'\r\n          } else {\r\n            this.getList()\r\n          }\r\n        }).catch(err => {\r\n          console.log(err);\r\n        })\r\n      },\r\n      // 分页处理数据\r\n      getList() {\r\n        console.log('分页数据');\r\n        this.list = [];\r\n        this.total = this.reserveFilterList.length;\r\n        console.log(this.reserveFilterList);\r\n        // es6过滤得到满足搜索条件的展示数据list\r\n        this.list = this.reserveFilterList.filter((item, index) =>\r\n          index < this.page * this.pageNum && index >= this.pageNum * (this.page - 1)\r\n        );\r\n        console.log(this.list);\r\n      },\r\n      // 分页\r\n      handleCurrentChange(val) {\r\n        console.log(`当前页: ${val}`);\r\n        this.page = val;\r\n\r\n        document.documentElement.scrollTop = document.body.scrollTop = 0;\r\n        this.getList();\r\n        // (function smoothscroll() {\r\n        //   let currentScroll =\r\n        //     document.documentElement.scrollTop || document.body.scrollTop;\r\n        //   if (currentScroll > 0) {\r\n        //     window.requestAnimationFrame(smoothscroll);\r\n        //     window.scrollTo(0, currentScroll - currentScroll / 5);\r\n        //   }\r\n        // })();\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .appointment-deal-container {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    padding: 20px 30px;\r\n    background-color: #fff;\r\n    border-radius: 30px;\r\n\r\n\r\n    .borrow-table {\r\n      width: 100%;\r\n      margin-top: 20px;\r\n\r\n      th {\r\n        height: 50px;\r\n        line-height: 50px;\r\n        background-color: #d7ebe7;\r\n      }\r\n\r\n      td {\r\n        padding: 10px;\r\n        background-color: #f3fbf9;\r\n        border-bottom: 1px solid #d7ebe7;\r\n        word-break: break-all;\r\n\r\n        p {\r\n          font-size: 15px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .borrow-table tr:hover>td {\r\n      background-color: #d7ebe7 !important;\r\n    }\r\n\r\n    table {\r\n      width: 100%;\r\n      border-collapse: separate;\r\n      border-spacing: 0;\r\n    }\r\n\r\n    tr {\r\n\r\n      th,\r\n      td {\r\n        width: 18%;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}