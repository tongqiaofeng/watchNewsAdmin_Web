{"remainingRequest":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\src\\components\\add-release.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\src\\components\\add-release.vue","mtime":1656934074885},{"path":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\aa-tong\\my-project\\copy\\watchNewsAdmin_Web01\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdGlueW1jZSBmcm9tICJ0aW55bWNlIjsNCmltcG9ydCBFZGl0b3IgZnJvbSAiQHRpbnltY2UvdGlueW1jZS12dWUiOw0KDQppbXBvcnQgInRpbnltY2UvdGhlbWVzL3NpbHZlci90aGVtZSI7DQoNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2RpcmVjdGlvbmFsaXR5IjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2ltYWdlIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2xpbmsiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvY29kZSI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9tZWRpYSI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9jaGFybWFwIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2hyIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2luc2VydGRhdGV0aW1lIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2Fkdmxpc3QiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvaW1hZ2V0b29scyI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9saXN0cyI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy90ZXh0cGF0dGVybiI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9lbW90aWNvbnMiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvYXV0b3NhdmUiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvYXV0b3Jlc2l6ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIk15VGlueW1jZSIsDQogIHByb3BzOiB7DQogICAgZWRpdG9yRGFkQ29udGVudDogIiIsDQogIH0sDQogIGNvbXBvbmVudHM6IHsNCiAgICBFZGl0b3IsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhdGhVcmw6ICIiLA0KICAgICAgdmFsdWU6IHRoaXMuZWRpdG9yRGFkQ29udGVudCwgLy/niLbnu4Tku7bpgJrov4dyZWbmi7/liLDor6Xnu4Tku7bnmoTlgLwNCiAgICAgIGluaXQ6IHsNCiAgICAgICAgc2VsZWN0b3I6ICIjdGlueW1jZSIsDQogICAgICAgIGxhbmd1YWdlX3VybDogIi90aW55bWNlL2xhbmdzL3poX0NOLmpzIiwNCiAgICAgICAgbGFuZ3VhZ2U6ICJ6aF9DTiIsDQogICAgICAgIHNraW5fdXJsOiAiL3RpbnltY2Uvc2tpbnMvdWkvb3hpZGUiLCAvL+e8lui+keWZqOmcgOimgeS4gOS4qnNraW7miY3og73mraPluLjlt6XkvZzvvIzmiYDku6XopoHorr7nva7kuIDkuKpza2luX3VybOaMh+WQkeS5i+WJjeWkjeWItuWHuuadpeeahHNraW7mlofku7YNCiAgICAgICAgaGVpZ2h0OiA2MDAsDQogICAgICAgIGF1dG9yZXNpemVfbWluX2hlaWdodDogNjAwLA0KICAgICAgICBhdXRvcmVzaXplX21heF9oZWlnaHQ6IDEwMDAsDQogICAgICAgIHBsdWdpbnM6DQogICAgICAgICAgImRpcmVjdGlvbmFsaXR5IGltYWdlIGxpbmsgbWVkaWEgY29kZSBjaGFybWFwIGhyIGluc2VydGRhdGV0aW1lIGFkdmxpc3QgbGlzdHMgaW1hZ2V0b29scyB0ZXh0cGF0dGVybiBlbW90aWNvbnMgYXV0b3NhdmUgYXV0b3Jlc2l6ZSIsDQogICAgICAgIHRvb2xiYXI6DQogICAgICAgICAgImZvbnRzZWxlY3QgZm9udHNpemVzZWxlY3QgbGluayBsaW5laGVpZ2h0IGZvcmVjb2xvciBiYWNrY29sb3IgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIHN0cmlrZXRocm91Z2ggfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnkgfCBpbWFnZSBxdWlja2xpbmsgaDIgaDMgYmxvY2txdW90ZSB0YWJsZSBudW1saXN0IGJ1bGxpc3QgcHJldmlldyBmdWxsc2NyZWVuIiwgLy/lt6XlhbfmoI8NCiAgICAgICAgYnJvd3Nlcl9zcGVsbGNoZWNrOiB0cnVlLCAvLyDmi7zlhpnmo4Dmn6UNCiAgICAgICAgYnJhbmRpbmc6IGZhbHNlLCAvLyDljrvmsLTljbANCiAgICAgICAgZWxlbWVudHBhdGg6IGZhbHNlLCAvL+emgeeUqOe8lui+keWZqOW6lemDqOeahOeKtuaAgeagjw0KICAgICAgICBzdGF0dXNiYXI6IGZhbHNlLCAvLyDpmpDol4/nvJbovpHlmajlupXpg6jnmoTnirbmgIHmoI8NCiAgICAgICAgcGFzdGVfZGF0YV9pbWFnZXM6IHRydWUsIC8vIOWFgeiuuOeymOi0tOWbvuWDjw0KICAgICAgICBtZW51YmFyOiBmYWxzZSwgLy8g6ZqQ6JeP5pyA5LiK5pa5bWVudQ0KDQogICAgICAgIGZpbGVfcGlja2VyX3R5cGVzOiAiaW1hZ2UiLA0KICAgICAgICBpbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzOiB0cnVlLA0KICAgICAgICBmb250c2l6ZV9mb3JtYXRzOiAiMTRweCAxNnB4IDE4cHggMjBweCAyNHB4IDI2cHggMjhweCAzMHB4IDMycHggMzZweCIsIC8v5a2X5L2T5aSn5bCPDQogICAgICAgIGZvbnRfZm9ybWF0czoNCiAgICAgICAgICAi5b6u6L2v6ZuF6buRPU1pY3Jvc29mdCBZYUhlaSxIZWx2ZXRpY2EgTmV1ZTtQaW5nRmFuZyBTQztzYW5zLXNlcmlmO+iLueaenOiLueaWuT1QaW5nRmFuZyBTQyxNaWNyb3NvZnQgWWFIZWksc2Fucy1zZXJpZjvlrovkvZM9c2ltc3VuO3Nlcmlmc2Fucy1zZXJpZjtUZXJtaW5hbD10ZXJtaW5hbDttb25hY287VGltZXMgTmV3IFJvbWFuPXRpbWVzIG5ldyByb21hbjt0aW1lcyIsIC8v5a2X5L2TDQogICAgICAgIC8qKg0KICAgICAgICAgKiDkuIvpnaLmlrnms5XmmK/kuLp0aW55bWNl5re75Yqg6Ieq5a6a5LmJ5o+S5YWl5Zu+54mH5oyJ6ZKuDQogICAgICAgICAqIOWAn+WKqWl2aWV355qEVXBsb2Fk57uE5Lu2LOWwhuWbvueJh+WFiOS4iuS8oOWIsOWtmOWCqOS6keS4iu+8jOWGjeWwhuWbvueJh+eahOWtmOWCqOWcsOWdgOaUvuWFpee8lui+keWZqOWGheWuuQ0KICAgICAgICAgKi8NCiAgICAgICAgLy8g5Zu+54mH5LiK5Lyg5LiJ5Liq5Y+C5pWw77yM5Zu+54mH5pWw5o2u77yM5oiQ5Yqf5pe255qE5Zue6LCD5Ye95pWw77yM5aSx6LSl5pe255qE5Zue6LCD5Ye95pWwDQogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogYXN5bmMgKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7DQogICAgICAgICAgbGV0IGZpbGUgPSBibG9iSW5mby5ibG9iKCk7DQogICAgICAgICAgY29uc29sZS5sb2coZmlsZSk7DQogICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVBZGRfcXVpbGxfZWRpdG9yKGZpbGUpOw0KDQogICAgICAgICAgaWYgKHRoaXMucGF0aFVybCkgew0KICAgICAgICAgICAgc3VjY2Vzcyh0aGlzLnBhdGhVcmwpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBmYWlsdXJlKCJlcnJvciIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBlZGl0b3JEYWRDb250ZW50KG5ld1YsIG9sZFYpIHsNCiAgICAgIHRoaXMudmFsdWUgPSBuZXdWOw0KICAgIH0sDQogICAgdmFsdWUobmV3Viwgb2xkVikgew0KICAgICAgLy8gY29uc29sZS5sb2cobmV3Vik7DQogICAgICB0aGlzLiRlbWl0KCJlZGl0b3JDb24iLCB0aGlzLnZhbHVlKTsNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRpbnltY2UuaW5pdCh7fSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvLyDlr4zmlofmnKwg5LiK5Lyg5Zu+54mHDQogICAgYXN5bmMgaGFuZGxlQWRkX3F1aWxsX2VkaXRvcih2YWwpIHsNCiAgICAgIGxldCBmaWxlID0gdmFsOw0KICAgICAgLy8gY29uc29sZS5sb2coZmlsZSk7DQogICAgICB0aGlzLnVwbG9hZEZpbGVUeXBlID0gZmlsZS50eXBlOw0KDQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICBpZiAoZmlsZSA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gMTAyNSkgew0KICAgICAgICBhd2FpdCB0aGlzLnBob3RvQ29tcHJlc3MoDQogICAgICAgICAgZmlsZSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBxdWFsaXR5OiAwLjcsDQogICAgICAgICAgfSwNCiAgICAgICAgICAoYmFzZTY0Q29kZXMpID0+IHsNCiAgICAgICAgICAgIGxldCBibCA9IHRoYXQuYmFzZTY0VXJsVG9CbG9iKGJhc2U2NENvZGVzKTsNCiAgICAgICAgICAgIHRoYXQudXBsb2FkTGljZShibCk7DQogICAgICAgICAgfQ0KICAgICAgICApOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5bCP5LqO562J5LqOMU0g5Y6f5Zu+5LiK5LygDQogICAgICAgIGF3YWl0IHRoaXMudXBsb2FkTGljZShmaWxlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8vIGJhc2U2NCDovawgQmxvYiDmoLzlvI8g5ZKMZmlsZeagvOW8jw0KICAgIGJhc2U2NFVybFRvQmxvYih1cmxEYXRhKSB7DQogICAgICBsZXQgYXJyID0gdXJsRGF0YS5zcGxpdCgiLCIpLA0KICAgICAgICBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV0sIC8vIOWOu+aOiXVybOeahOWktO+8jOW5tui9rOWMluS4umJ5dGUNCiAgICAgICAgYnN0ciA9IGF0b2IoYXJyWzFdKSwgLy8g5aSE55CG5byC5bi4LOWwhmFzY2lp56CB5bCP5LqOMOeahOi9rOaNouS4uuWkp+S6jjANCiAgICAgICAgbiA9IGJzdHIubGVuZ3RoLA0KICAgICAgICB1OGFyciA9IG5ldyBVaW50OEFycmF5KG4pOw0KICAgICAgd2hpbGUgKG4tLSkgew0KICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsNCiAgICAgIH0NCiAgICAgIC8vIOi9rGJsb2INCiAgICAgIC8vIHJldHVybiBuZXcgQmxvYihbdThhcnJdLCB7dHlwZTogbWltZX0pDQogICAgICBsZXQgZmlsZW5hbWUgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpICsgIi5qcGciOw0KICAgICAgLy8g6L2sZmlsZQ0KICAgICAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVuYW1lLCB7DQogICAgICAgIHR5cGU6IG1pbWUsDQogICAgICB9KTsNCiAgICB9LA0KICAgIC8q5Y6L57yp5Zu+54mHDQogICAgICBmaWxl77ya5paH5Lu2KOexu+Wei+aYr+WbvueJh+agvOW8jynvvIwNCiAgICAgIG9iau+8muaWh+S7tuWOi+e8qeWQjuWvueixoXdpZHRo77yMIGhlaWdodO+8jCBxdWFsaXR5KDAtMSkNCiAgICAgIGNhbGxiYWNr77ya5a655Zmo5oiW6ICF5Zue6LCD5Ye95pWwDQogICAgICAqLw0KICAgIGFzeW5jIHBob3RvQ29tcHJlc3MoZmlsZSwgb2JqLCBjYWxsYmFjaykgew0KICAgICAgbGV0IHRoYXQgPSB0aGlzOw0KICAgICAgbGV0IHJlYWR5ID0gbmV3IEZpbGVSZWFkZXIoKTsNCiAgICAgIC8qIOW8gOWni+ivu+WPluaMh+WumkZpbGXlr7nosaHkuK3nmoTlhoXlrrkuIOivu+WPluaTjeS9nOWujOaIkOaXtizov5Tlm57kuIDkuKpVUkzmoLzlvI/nmoTlrZfnrKbkuLIuICovDQogICAgICByZWFkeS5yZWFkQXNEYXRhVVJMKGZpbGUpOw0KICAgICAgcmVhZHkub25sb2FkID0gKGV2ZW50KSA9PiB7DQogICAgICAgIGxldCByZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7DQogICAgICAgIHRoYXQuY2FudmFzRGF0YVVSTChyZSwgb2JqLCBjYWxsYmFjayk7IC8vIOW8gOWni+WOi+e8qQ0KICAgICAgfTsNCiAgICB9LA0KICAgIC8qIOWIqeeUqGNhbnZhc+aVsOaNruWMluWbvueJh+i/m+ihjOWOi+e8qSAqLw0KICAgIC8qIOWbvueJh+i9rGJhc2U2NCAqLw0KICAgIGNhbnZhc0RhdGFVUkwocGF0aCwgb2JqLCBjYWxsYmFjaykgew0KICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpOw0KICAgICAgaW1nLnNyYyA9IHBhdGg7DQogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7DQogICAgICAgIGxldCB0aGF0ID0gdGhpczsgLy8g5oyH5YiwaW1nDQogICAgICAgIC8vIOm7mOiupOaMieavlOS+i+WOi+e8qQ0KICAgICAgICBsZXQgdyA9IHRoYXQud2lkdGgsDQogICAgICAgICAgaCA9IHRoYXQuaGVpZ2h0LA0KICAgICAgICAgIHNjYWxlID0gdyAvIGg7DQogICAgICAgIHcgPSBvYmoud2lkdGggfHwgdzsNCiAgICAgICAgaCA9IG9iai5oZWlnaHQgfHwgdyAvIHNjYWxlOw0KICAgICAgICBsZXQgcXVhbGl0eSA9IDAuNzsgLy8g6buY6K6k5Zu+54mH6LSo6YeP5Li6MC43DQogICAgICAgIC8vIOeUn+aIkGNhbnZhcw0KICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7DQogICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsNCg0KICAgICAgICAvLyDliJvlu7rlsZ7mgKfoioLngrkNCiAgICAgICAgbGV0IGFudyA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZSgid2lkdGgiKTsNCiAgICAgICAgYW53Lm5vZGVWYWx1ZSA9IHc7DQogICAgICAgIGxldCBhbmggPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoImhlaWdodCIpOw0KICAgICAgICBhbmgubm9kZVZhbHVlID0gaDsNCiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW53KTsNCiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW5oKTsNCiAgICAgICAgLy8g6ZO65bqV6ImyDQogICAgICAgIGN0eC5maWxsU3R5bGUgPSAiI2ZmZiI7DQogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTsNCiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGF0LCAwLCAwLCB3LCBoKTsNCg0KICAgICAgICAvLyDlm77lg4/otKjph48NCiAgICAgICAgaWYgKG9iai5xdWFsaXR5ICYmIG9iai5xdWFsaXR5ID49IDEgJiYgb2JqLnF1YWxpdHkgPCAwKSB7DQogICAgICAgICAgcXVhbGl0eSA9IG9iai5xdWFsaXR5Ow0KICAgICAgICB9DQogICAgICAgIC8vIHF1YWxpdHnlgLzotorlsI/vvIzmiYDnu5jliLblh7rnmoTlm77lg4/otormqKHns4oNCiAgICAgICAgbGV0IGJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoImltYWdlL2pwZWciLCBxdWFsaXR5KTsNCiAgICAgICAgLy8g5Zue6LCD5Ye95pWw6L+U5ZueYmFzZTY055qE5YC8DQogICAgICAgIGNhbGxiYWNrKGJhc2U2NCk7DQogICAgICB9Ow0KICAgIH0sDQogICAgLy8gIOi/lOWbnmZpbGXmlofku7bvvIzosIPnlKjmjqXlj6PmiafooYzkuIrkvKANCiAgICBhc3luYyB1cGxvYWRMaWNlKGZpbGUpIHsNCiAgICAgIGxldCBmb3JtZGF0YSA9IG5ldyBGb3JtRGF0YSgpOyAvL+WIm+W7umZvcm3lr7nosaENCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgidXBsb2FkLWltYWdlcyIsIGZpbGUpOyAvL+mAmui/h2FwcGVuZOWQkWZvcm3lr7nosaHmt7vliqDmlbDmja4NCg0KICAgICAgYXdhaXQgdGhpcy4kYXhpb3MNCiAgICAgICAgLnBvc3QodGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICIvc3RvY2svdXBsb2FkIiwgZm9ybWRhdGEpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZygi5a+M5paH5pys57yW6L6R5Zmo5LiK5Lyg5Zu+54mHIiwgcmVzKTsNCiAgICAgICAgICB0aGlzLnBhdGhVcmwgPQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYmFzZVVybCArICIvc3RvY2svZmlsZS8iICsgcmVzLmRhdGEuc3BsaXQoInwiKVswXTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["add-release.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-release.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <editor\r\n    id=\"tinymce\"\r\n    ref=\"myQuillEditor\"\r\n    v-model=\"value\"\r\n    :init=\"init\"\r\n  ></editor>\r\n</template>\r\n\r\n<script>\r\nimport tinymce from \"tinymce\";\r\nimport Editor from \"@tinymce/tinymce-vue\";\r\n\r\nimport \"tinymce/themes/silver/theme\";\r\n\r\nimport \"tinymce/plugins/directionality\";\r\nimport \"tinymce/plugins/image\";\r\nimport \"tinymce/plugins/link\";\r\nimport \"tinymce/plugins/code\";\r\nimport \"tinymce/plugins/media\";\r\nimport \"tinymce/plugins/charmap\";\r\nimport \"tinymce/plugins/hr\";\r\nimport \"tinymce/plugins/insertdatetime\";\r\nimport \"tinymce/plugins/advlist\";\r\nimport \"tinymce/plugins/imagetools\";\r\nimport \"tinymce/plugins/lists\";\r\nimport \"tinymce/plugins/textpattern\";\r\nimport \"tinymce/plugins/emoticons\";\r\nimport \"tinymce/plugins/autosave\";\r\nimport \"tinymce/plugins/autoresize\";\r\n\r\nexport default {\r\n  name: \"MyTinymce\",\r\n  props: {\r\n    editorDadContent: \"\",\r\n  },\r\n  components: {\r\n    Editor,\r\n  },\r\n  data() {\r\n    return {\r\n      pathUrl: \"\",\r\n      value: this.editorDadContent, //父组件通过ref拿到该组件的值\r\n      init: {\r\n        selector: \"#tinymce\",\r\n        language_url: \"/tinymce/langs/zh_CN.js\",\r\n        language: \"zh_CN\",\r\n        skin_url: \"/tinymce/skins/ui/oxide\", //编辑器需要一个skin才能正常工作，所以要设置一个skin_url指向之前复制出来的skin文件\r\n        height: 600,\r\n        autoresize_min_height: 600,\r\n        autoresize_max_height: 1000,\r\n        plugins:\r\n          \"directionality image link media code charmap hr insertdatetime advlist lists imagetools textpattern emoticons autosave autoresize\",\r\n        toolbar:\r\n          \"fontselect fontsizeselect link lineheight forecolor backcolor bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | image quicklink h2 h3 blockquote table numlist bullist preview fullscreen\", //工具栏\r\n        browser_spellcheck: true, // 拼写检查\r\n        branding: false, // 去水印\r\n        elementpath: false, //禁用编辑器底部的状态栏\r\n        statusbar: false, // 隐藏编辑器底部的状态栏\r\n        paste_data_images: true, // 允许粘贴图像\r\n        menubar: false, // 隐藏最上方menu\r\n\r\n        file_picker_types: \"image\",\r\n        images_upload_credentials: true,\r\n        fontsize_formats: \"14px 16px 18px 20px 24px 26px 28px 30px 32px 36px\", //字体大小\r\n        font_formats:\r\n          \"微软雅黑=Microsoft YaHei,Helvetica Neue;PingFang SC;sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun;serifsans-serif;Terminal=terminal;monaco;Times New Roman=times new roman;times\", //字体\r\n        /**\r\n         * 下面方法是为tinymce添加自定义插入图片按钮\r\n         * 借助iview的Upload组件,将图片先上传到存储云上，再将图片的存储地址放入编辑器内容\r\n         */\r\n        // 图片上传三个参数，图片数据，成功时的回调函数，失败时的回调函数\r\n        images_upload_handler: async (blobInfo, success, failure) => {\r\n          let file = blobInfo.blob();\r\n          console.log(file);\r\n          await this.handleAdd_quill_editor(file);\r\n\r\n          if (this.pathUrl) {\r\n            success(this.pathUrl);\r\n          } else {\r\n            failure(\"error\");\r\n          }\r\n        },\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    editorDadContent(newV, oldV) {\r\n      this.value = newV;\r\n    },\r\n    value(newV, oldV) {\r\n      // console.log(newV);\r\n      this.$emit(\"editorCon\", this.value);\r\n    },\r\n  },\r\n  mounted() {\r\n    tinymce.init({});\r\n  },\r\n  methods: {\r\n    // 富文本 上传图片\r\n    async handleAdd_quill_editor(val) {\r\n      let file = val;\r\n      // console.log(file);\r\n      this.uploadFileType = file.type;\r\n\r\n      let that = this;\r\n      if (file === undefined) {\r\n        return;\r\n      }\r\n      if (file.size / 1024 > 1025) {\r\n        await this.photoCompress(\r\n          file,\r\n          {\r\n            quality: 0.7,\r\n          },\r\n          (base64Codes) => {\r\n            let bl = that.base64UrlToBlob(base64Codes);\r\n            that.uploadLice(bl);\r\n          }\r\n        );\r\n      } else {\r\n        // 小于等于1M 原图上传\r\n        await this.uploadLice(file);\r\n      }\r\n    },\r\n    // base64 转 Blob 格式 和file格式\r\n    base64UrlToBlob(urlData) {\r\n      let arr = urlData.split(\",\"),\r\n        mime = arr[0].match(/:(.*?);/)[1], // 去掉url的头，并转化为byte\r\n        bstr = atob(arr[1]), // 处理异常,将ascii码小于0的转换为大于0\r\n        n = bstr.length,\r\n        u8arr = new Uint8Array(n);\r\n      while (n--) {\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      // 转blob\r\n      // return new Blob([u8arr], {type: mime})\r\n      let filename = Date.parse(new Date()) + \".jpg\";\r\n      // 转file\r\n      return new File([u8arr], filename, {\r\n        type: mime,\r\n      });\r\n    },\r\n    /*压缩图片\r\n      file：文件(类型是图片格式)，\r\n      obj：文件压缩后对象width， height， quality(0-1)\r\n      callback：容器或者回调函数\r\n      */\r\n    async photoCompress(file, obj, callback) {\r\n      let that = this;\r\n      let ready = new FileReader();\r\n      /* 开始读取指定File对象中的内容. 读取操作完成时,返回一个URL格式的字符串. */\r\n      ready.readAsDataURL(file);\r\n      ready.onload = (event) => {\r\n        let re = event.target.result;\r\n        that.canvasDataURL(re, obj, callback); // 开始压缩\r\n      };\r\n    },\r\n    /* 利用canvas数据化图片进行压缩 */\r\n    /* 图片转base64 */\r\n    canvasDataURL(path, obj, callback) {\r\n      let img = new Image();\r\n      img.src = path;\r\n      img.onload = function() {\r\n        let that = this; // 指到img\r\n        // 默认按比例压缩\r\n        let w = that.width,\r\n          h = that.height,\r\n          scale = w / h;\r\n        w = obj.width || w;\r\n        h = obj.height || w / scale;\r\n        let quality = 0.7; // 默认图片质量为0.7\r\n        // 生成canvas\r\n        let canvas = document.createElement(\"canvas\");\r\n        let ctx = canvas.getContext(\"2d\");\r\n\r\n        // 创建属性节点\r\n        let anw = document.createAttribute(\"width\");\r\n        anw.nodeValue = w;\r\n        let anh = document.createAttribute(\"height\");\r\n        anh.nodeValue = h;\r\n        canvas.setAttributeNode(anw);\r\n        canvas.setAttributeNode(anh);\r\n        // 铺底色\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillRect(0, 0, w, h);\r\n        ctx.drawImage(that, 0, 0, w, h);\r\n\r\n        // 图像质量\r\n        if (obj.quality && obj.quality >= 1 && obj.quality < 0) {\r\n          quality = obj.quality;\r\n        }\r\n        // quality值越小，所绘制出的图像越模糊\r\n        let base64 = canvas.toDataURL(\"image/jpeg\", quality);\r\n        // 回调函数返回base64的值\r\n        callback(base64);\r\n      };\r\n    },\r\n    //  返回file文件，调用接口执行上传\r\n    async uploadLice(file) {\r\n      let formdata = new FormData(); //创建form对象\r\n      formdata.append(\"upload-images\", file); //通过append向form对象添加数据\r\n\r\n      await this.$axios\r\n        .post(this.$store.state.baseUrl + \"/stock/upload\", formdata)\r\n        .then((res) => {\r\n          console.log(\"富文本编辑器上传图片\", res);\r\n          this.pathUrl =\r\n            this.$store.state.baseUrl + \"/stock/file/\" + res.data.split(\"|\")[0];\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}