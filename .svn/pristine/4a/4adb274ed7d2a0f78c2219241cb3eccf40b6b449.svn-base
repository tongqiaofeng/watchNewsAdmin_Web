{"remainingRequest":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\src\\components\\add-release.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\src\\components\\add-release.vue","mtime":1609316365961},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aa-tong\\my-projects\\beautySalon\\salon-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgcXVpbGxFZGl0b3IKfSBmcm9tICJ2dWUtcXVpbGwtZWRpdG9yIjsgLy/osIPnlKjnvJbovpHlmagKaW1wb3J0ICogYXMgUXVpbGwgZnJvbSAncXVpbGwnOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuY29yZS5jc3MnOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuc25vdy5jc3MnOwppbXBvcnQgJ3F1aWxsL2Rpc3QvcXVpbGwuYnViYmxlLmNzcyc7CmltcG9ydCB7CiAgYWRkUXVpbGxUaXRsZQp9IGZyb20gJy4uL3F1aWxsX3RpdGxlJzsKaW1wb3J0IHsKICBJbWFnZURyb3AKfSBmcm9tICdxdWlsbC1pbWFnZS1kcm9wLW1vZHVsZScKaW1wb3J0IEltYWdlUmVzaXplIGZyb20gJ3F1aWxsLWltYWdlLXJlc2l6ZS1tb2R1bGUnClF1aWxsLnJlZ2lzdGVyKCdtb2R1bGVzL2ltYWdlUmVzaXplJywgSW1hZ2VSZXNpemUpCgpsZXQgZm9udFNpemVTdHlsZSA9IFF1aWxsLmltcG9ydCgnYXR0cmlidXRvcnMvc3R5bGUvc2l6ZScpCmZvbnRTaXplU3R5bGUud2hpdGVsaXN0ID0gWycxMHB4JywgJzEycHgnLCAnMTRweCcsICcxNnB4JywgJzE4cHgnLCAnMjBweCcsICcyMnB4JywgJzI0cHgnLCAnMjZweCcsICczMnB4JywgJzQ4cHgnXQpRdWlsbC5yZWdpc3Rlcihmb250U2l6ZVN0eWxlLCB0cnVlKQpsZXQgZm9udHMgPSBbZmFsc2UsICdTaW1TdW4nLCAnU2ltSGVpJywgJ01pY3Jvc29mdC1ZYUhlaScsICdLYWlUaScsICdGYW5nU29uZycsICdBcmlhbCcsICdzYW5zLXNlcmlmJ10KbGV0IEZvbnQgPSBRdWlsbC5pbXBvcnQoJ2Zvcm1hdHMvZm9udCcpCkZvbnQud2hpdGVsaXN0ID0gZm9udHMgLy/lsIblrZfkvZPliqDlhaXliLDnmb3lkI3ljZUKUXVpbGwucmVnaXN0ZXIoRm9udCwgdHJ1ZSkKCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgcXVpbGxFZGl0b3IKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlZGl0b3JDb250ZW50OiAiIiwKICAgICAgc3RyOiAiIiwKICAgICAgZWRpdG9yT3B0aW9uOiB7CiAgICAgICAgcGxhY2Vob2xkZXI6ICLor7flnKjov5nph4zovpPlhaUiLAogICAgICAgIG1vZHVsZXM6IHsKICAgICAgICAgIHRvb2xiYXI6IHsKICAgICAgICAgICAgY29udGFpbmVyOiBbCiAgICAgICAgICAgICAgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtlJ10sIC8v5Yqg57KX77yM5pac5L2T77yM5LiL5YiS57q/77yM5Yig6Zmk57q/CiAgICAgICAgICAgICAgWydibG9ja3F1b3RlJywgJ2NvZGUtYmxvY2snXSwgLy/lvJXnlKjvvIzku6PnoIHlnZcKICAgICAgICAgICAgICBbewogICAgICAgICAgICAgICAgJ2hlYWRlcic6IDEKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAnaGVhZGVyJzogMgogICAgICAgICAgICAgIH1dLCAvLyDmoIfpopjvvIzplK7lgLzlr7nnmoTlvaLlvI/vvJsx44CBMuihqOekuuWtl+S9k+Wkp+WwjwogICAgICAgICAgICAgIFt7CiAgICAgICAgICAgICAgICAnbGlzdCc6ICdvcmRlcmVkJwogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICdsaXN0JzogJ2J1bGxldCcKICAgICAgICAgICAgICB9XSwgLy/liJfooagKICAgICAgICAgICAgICBbewogICAgICAgICAgICAgICAgJ3NjcmlwdCc6ICdzdWInCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgJ3NjcmlwdCc6ICdzdXBlcicKICAgICAgICAgICAgICB9XSwgLy8g5LiK5LiL5qCHCiAgICAgICAgICAgICAgW3sKICAgICAgICAgICAgICAgICdpbmRlbnQnOiAnLTEnCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgJ2luZGVudCc6ICcrMScKICAgICAgICAgICAgICB9XSwgLy8g57yp6L+bCiAgICAgICAgICAgICAgW3sKICAgICAgICAgICAgICAgICdkaXJlY3Rpb24nOiAncnRsJwogICAgICAgICAgICAgIH1dLCAvLyDmlofmnKzmlrnlkJEKICAgICAgICAgICAgICBbewogICAgICAgICAgICAgICAgJ3NpemUnOiBmb250U2l6ZVN0eWxlLndoaXRlbGlzdAogICAgICAgICAgICAgIH1dLCAvLyDlrZfkvZPlpKflsI8KICAgICAgICAgICAgICBbewogICAgICAgICAgICAgICAgJ2hlYWRlcic6IFsxLCAyLCAzLCA0LCA1LCA2XQogICAgICAgICAgICAgIH1dLCAvL+WHoOe6p+agh+mimAogICAgICAgICAgICAgIFt7CiAgICAgICAgICAgICAgICAnY29sb3InOiBbXQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kJzogW10KICAgICAgICAgICAgICB9XSwgLy8g5a2X5L2T6aKc6Imy77yM5a2X5L2T6IOM5pmv6aKc6ImyCiAgICAgICAgICAgICAgW3sKICAgICAgICAgICAgICAgICdmb250JzogZm9udHMKICAgICAgICAgICAgICB9XSwgLy/lrZfkvZMKICAgICAgICAgICAgICBbewogICAgICAgICAgICAgICAgJ2FsaWduJzogW10KICAgICAgICAgICAgICB9XSwgLy/lr7npvZDmlrnlvI8KICAgICAgICAgICAgICBbJ2NsZWFuJ10sIC8v5riF6Zmk5a2X5L2T5qC35byPCiAgICAgICAgICAgICAgWydpbWFnZScsICd2aWRlbyddLCAvL+S4iuS8oOWbvueJh+OAgeS4iuS8oOinhumikQogICAgICAgICAgICAgIC8vIFsncmV2b2tlJ10sCiAgICAgICAgICAgICAgLy8gWydyZWRvJ10KICAgICAgICAgICAgXSwKICAgICAgICAgICAgaGFuZGxlcnM6IHsKICAgICAgICAgICAgICAnaW1hZ2UnOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXRfaGlkZScpLmNsaWNrKCkKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMucXVpbGwuZm9ybWF0KCdpbWFnZScsIGZhbHNlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgJ3ZpZGVvJzogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2lucHV0X2hpZGUnKS5jbGljaygpCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLnF1aWxsLmZvcm1hdCgndmlkZW8nLCBmYWxzZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBpbWFnZURyb3A6IHRydWUsCiAgICAgICAgICBpbWFnZVJlc2l6ZTogewogICAgICAgICAgICBkaXNwbGF5U3R5bGVzOiB7CiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmxhY2snLAogICAgICAgICAgICAgIGJvcmRlcjogJ25vbmUnLAogICAgICAgICAgICAgIGNvbG9yOiAnd2hpdGUnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1vZHVsZXM6IFsnUmVzaXplJywgJ0Rpc3BsYXlTaXplJywgJ1Rvb2xiYXInXQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgdXBsb2FkRmlsZVR5cGU6ICcnLAogICAgICBjaGFuZ2VUZXh0OiBbXQogICAgfQogIH0sCiAgcHJvcHM6IFsiZWRpdG9yRGFkQ29udGVudCJdLAogIGNvbXB1dGVkOiB7CiAgICBlZGl0b3IoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLm15UXVpbGxFZGl0b3IucXVpbGw7CiAgICB9LAogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmVkaXRvckNvbnRlbnQgPSB0aGlzLmVkaXRvckRhZENvbnRlbnQ7CiAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRvckNvbnRlbnQpOwoKICAgIC8vIHZhciByZXZva2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXVpbGwtZWRpdG9yIC5xbC1yZXZva2UnKSAvL+iOt+WPluWFg+e0oAogICAgLy8gLy8gY29uc29sZS5sb2cocmV2b2tlKTsKICAgIC8vIHZhciByZWRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnF1aWxsLWVkaXRvciAucWwtcmVkbycpCiAgICAvLyB2YXIgRnJvbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJykgLy/liJvlu7rlhYPntKAKICAgIC8vIHZhciBhZnRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKQogICAgLy8gRnJvbnQuY2xhc3NOYW1lID0gImljb25mb250IGljb24tY2hleGlhbzEiIC8v5paw5aKeY2xhc3PlsZ7mgKcKICAgIC8vIGFmdGVyLmNsYXNzTmFtZSA9ICJpY29uZm9udCBpY29uLXpob25nenVvIgogICAgLy8gcmV2b2tlLmFwcGVuZENoaWxkKEZyb250KSAvL+i/veWKoOWIsOWFg+e0oOS4rQogICAgLy8gcmVkby5hcHBlbmRDaGlsZChhZnRlcikKCiAgICAvLyBsZXQgcmV2b2tlYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncWwtcmVtb3ZlJylbMF07CiAgICAvLyByZXZva2VidG4ub25jbGljayA9IHRoaXMucmV2b2tlQ2xpY2s7CiAgICAvLyBsZXQgcmVkb2J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3FsLXJlZG8nKVswXTsKICAgIC8vIHJlZG9idG4ub25jbGljayA9IHRoaXMubmV4dENsaWNrOwoKICAgIGFkZFF1aWxsVGl0bGUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWvjOaWh+acrCDkuIrkvKDlm77niYcKICAgIGhhbmRsZUFkZF9xdWlsbF9lZGl0b3IoZSkgewogICAgICBsZXQgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgdGhpcy51cGxvYWRGaWxlVHlwZSA9IGZpbGUudHlwZTsKCiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgaWYgKGZpbGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmIChmaWxlLnNpemUgLyAxMDI0ID4gMTAyNSkgeyAvLyDmlofku7blpKfkuo4xTe+8iOagueaNrumcgOaxguabtOaUue+8ie+8jOi/m+ihjOWOi+e8qeS4iuS8oAogICAgICAgIHRoaXMucGhvdG9Db21wcmVzcyhmaWxlLCB7IC8vIOiwg+eUqOWOi+e8qeWbvueJh+aWueazlQogICAgICAgICAgcXVhbGl0eTogMC43CiAgICAgICAgfSwgZnVuY3Rpb24gKGJhc2U2NENvZGVzKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZygi5Y6L57yp5ZCO77yaIiArIGJhc2UubGVuZ3RoIC8gMTAyNCArICIgIiArIGJhc2UpOwogICAgICAgICAgbGV0IGJsID0gdGhhdC5iYXNlNjRVcmxUb0Jsb2IoYmFzZTY0Q29kZXMpCiAgICAgICAgICAvLyBmaWxlLmFwcGVuZCgnZmlsZScsIGJsLCAnZmlsZV8nICsgRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSArICcuanBnJykgLy8g5paH5Lu25a+56LGhCiAgICAgICAgICB0aGF0LnVwbG9hZExpY2UoYmwpIC8vIOivt+axguWbvueJh+S4iuS8oOaOpeWPowogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7IC8vIOWwj+S6juetieS6jjFNIOWOn+WbvuS4iuS8oAogICAgICAgIHRoaXMudXBsb2FkTGljZShmaWxlKQogICAgICB9CiAgICB9LAogICAgLy8gYmFzZTY0IOi9rCBCbG9iIOagvOW8jyDlkoxmaWxl5qC85byPCiAgICBiYXNlNjRVcmxUb0Jsb2IodXJsRGF0YSkgewogICAgICBsZXQgYXJyID0gdXJsRGF0YS5zcGxpdCgnLCcpLAogICAgICAgIG1pbWUgPSBhcnJbMF0ubWF0Y2goLzooLio/KTsvKVsxXSwgLy8g5Y675o6JdXJs55qE5aS077yM5bm26L2s5YyW5Li6Ynl0ZQogICAgICAgIGJzdHIgPSBhdG9iKGFyclsxXSksIC8vIOWkhOeQhuW8guW4uCzlsIZhc2NpaeeggeWwj+S6jjDnmoTovazmjaLkuLrlpKfkuo4wCiAgICAgICAgbiA9IGJzdHIubGVuZ3RoLAogICAgICAgIHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobikKICAgICAgd2hpbGUgKG4tLSkgewogICAgICAgIHU4YXJyW25dID0gYnN0ci5jaGFyQ29kZUF0KG4pCiAgICAgIH0KICAgICAgLy8g6L2sYmxvYgogICAgICAvLyByZXR1cm4gbmV3IEJsb2IoW3U4YXJyXSwge3R5cGU6IG1pbWV9KQogICAgICBsZXQgZmlsZW5hbWUgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpICsgJy5qcGcnCiAgICAgIC8vIOi9rGZpbGUKICAgICAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVuYW1lLCB7CiAgICAgICAgdHlwZTogbWltZQogICAgICB9KQogICAgfSwKICAgIC8q5Y6L57yp5Zu+54mHCiAgICBmaWxl77ya5paH5Lu2KOexu+Wei+aYr+WbvueJh+agvOW8jynvvIwKICAgIG9iau+8muaWh+S7tuWOi+e8qeWQjuWvueixoXdpZHRo77yMIGhlaWdodO+8jCBxdWFsaXR5KDAtMSkKICAgIGNhbGxiYWNr77ya5a655Zmo5oiW6ICF5Zue6LCD5Ye95pWwCiAgICAqLwogICAgcGhvdG9Db21wcmVzcyhmaWxlLCBvYmosIGNhbGxiYWNrKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICBsZXQgcmVhZHkgPSBuZXcgRmlsZVJlYWRlcigpCiAgICAgIC8qIOW8gOWni+ivu+WPluaMh+WumkZpbGXlr7nosaHkuK3nmoTlhoXlrrkuIOivu+WPluaTjeS9nOWujOaIkOaXtizov5Tlm57kuIDkuKpVUkzmoLzlvI/nmoTlrZfnrKbkuLIuICovCiAgICAgIHJlYWR5LnJlYWRBc0RhdGFVUkwoZmlsZSkKICAgICAgcmVhZHkub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGxldCByZSA9IHRoaXMucmVzdWx0CiAgICAgICAgdGhhdC5jYW52YXNEYXRhVVJMKHJlLCBvYmosIGNhbGxiYWNrKSAvLyDlvIDlp4vljovnvKkKICAgICAgfQogICAgfSwKICAgIC8qIOWIqeeUqGNhbnZhc+aVsOaNruWMluWbvueJh+i/m+ihjOWOi+e8qSAqLwogICAgLyog5Zu+54mH6L2sYmFzZTY0ICovCiAgICBjYW52YXNEYXRhVVJMKHBhdGgsIG9iaiwgY2FsbGJhY2spIHsKICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpCiAgICAgIGltZy5zcmMgPSBwYXRoCiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IHRoYXQgPSB0aGlzIC8vIOaMh+WIsGltZwogICAgICAgIC8vIOm7mOiupOaMieavlOS+i+WOi+e8qQogICAgICAgIGxldCB3ID0gdGhhdC53aWR0aCwKICAgICAgICAgIGggPSB0aGF0LmhlaWdodCwKICAgICAgICAgIHNjYWxlID0gdyAvIGgKICAgICAgICB3ID0gb2JqLndpZHRoIHx8IHcKICAgICAgICBoID0gb2JqLmhlaWdodCB8fCAodyAvIHNjYWxlKQogICAgICAgIGxldCBxdWFsaXR5ID0gMC43IC8vIOm7mOiupOWbvueJh+i0qOmHj+S4ujAuNwogICAgICAgIC8vIOeUn+aIkGNhbnZhcwogICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKQogICAgICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKQoKICAgICAgICAvLyDliJvlu7rlsZ7mgKfoioLngrkKICAgICAgICBsZXQgYW53ID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCd3aWR0aCcpCiAgICAgICAgYW53Lm5vZGVWYWx1ZSA9IHcKICAgICAgICBsZXQgYW5oID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCdoZWlnaHQnKQogICAgICAgIGFuaC5ub2RlVmFsdWUgPSBoCiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW53KQogICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGVOb2RlKGFuaCkKICAgICAgICAvLyDpk7rlupXoibIKICAgICAgICBjdHguZmlsbFN0eWxlID0gIiNmZmYiOwogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3LCBoKTsKICAgICAgICBjdHguZHJhd0ltYWdlKHRoYXQsIDAsIDAsIHcsIGgpCgogICAgICAgIC8vIOWbvuWDj+i0qOmHjwogICAgICAgIGlmIChvYmoucXVhbGl0eSAmJiBvYmoucXVhbGl0eSA+PSAxICYmIG9iai5xdWFsaXR5IDwgMCkgewogICAgICAgICAgcXVhbGl0eSA9IG9iai5xdWFsaXR5CiAgICAgICAgfQogICAgICAgIC8vIHF1YWxpdHnlgLzotorlsI/vvIzmiYDnu5jliLblh7rnmoTlm77lg4/otormqKHns4oKICAgICAgICBsZXQgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIHF1YWxpdHkpCiAgICAgICAgLy8g5Zue6LCD5Ye95pWw6L+U5ZueYmFzZTY055qE5YC8CiAgICAgICAgY2FsbGJhY2soYmFzZTY0KQogICAgICB9CiAgICB9LAogICAgLy8gIOi/lOWbnmZpbGXmlofku7bvvIzosIPnlKjmjqXlj6PmiafooYzkuIrkvKAKICAgIHVwbG9hZExpY2UoZmlsZSkgewogICAgICBjb25zb2xlLmxvZyhmaWxlKQogICAgICBsZXQgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy/liJvlu7pmb3Jt5a+56LGhCiAgICAgIGZvcm1kYXRhLmFwcGVuZCgiaW1nVXJsIiwgZmlsZSk7IC8v6YCa6L+HYXBwZW5k5ZCRZm9ybeWvueixoea3u+WKoOaVsOaNrgogICAgICB0aGlzLnVwbG9hZEltZyhmb3JtZGF0YSk7CiAgICB9LAogICAgdXBsb2FkSW1nKGZvcm1kYXRhKSB7CiAgICAgIGxldCBxdWlsbDAgPSB0aGlzLiRyZWZzWydteVF1aWxsRWRpdG9yJ10ucXVpbGw7CgogICAgICAvLyBsZXQgY29uZmlnID0gewogICAgICAvLyAgIGhlYWRlcnM6IHsKICAgICAgLy8gICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsCiAgICAgIC8vICAgICAndG9rZW4nOiAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SndjM2NpT2lJMU1EVmtOamhoTnpKaE5XWmtaVFF5WVdNM016ZGxOalF5TVRNeE9HWmlZeUlzSW1sa0lqb3lPQ3dpZFhObGNrNWhiV1VpT2lKaFpHRXhJbjAuNlBXT3RYdWY1TDBleG00VWpMUUw1UzdVaFRRZm0wWk84dnlrSlUtcjc1SScKICAgICAgLy8gICB9CiAgICAgIC8vIH07CgogICAgICB0aGlzLiRheGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLmJhc2VVcmwgKyAiL2ltZ1JlY3YiLCBmb3JtZGF0YSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgbGV0IHBhdGhVcmwgPSB0aGlzLiRzdG9yZS5zdGF0ZS5iYXNlVXJsICsgcmVzLmRhdGEuaW1nVXJsOwogICAgICAgICAgLy8g6I635Y+W5YWJ5qCH5omA5Zyo5L2N572uCiAgICAgICAgICBsZXQgbGVuZ3RoID0gcXVpbGwwLmdldFNlbGVjdGlvbigpLmluZGV4OwogICAgICAgICAgLy8g5o+S5YWl5Zu+54mH77yMcmVz5Li65pyN5Yqh5Zmo6L+U5Zue55qE5Zu+54mH6ZO+5o6l5Zyw5Z2ACiAgICAgICAgICBpZiAodGhpcy51cGxvYWRGaWxlVHlwZS5pbmRleE9mKCdpbWFnZScpICE9PSAtMSkgewogICAgICAgICAgICBxdWlsbDAuaW5zZXJ0RW1iZWQobGVuZ3RoLCAnaW1hZ2UnLCBwYXRoVXJsKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHF1aWxsMC5pbnNlcnRFbWJlZChsZW5ndGgsICd2aWRlbycsIHBhdGhVcmwpOwogICAgICAgICAgfQogICAgICAgICAgLy8g6LCD5pW05YWJ5qCH5Yiw5pyA5ZCOCiAgICAgICAgICBxdWlsbDAuc2V0U2VsZWN0aW9uKGxlbmd0aCArIDEpOwogICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pCiAgICB9LAoKICAgIG9uRWRpdG9yUmVhZHkoZWRpdG9yKSB7IC8vIOWHhuWkh+e8lui+keWZqAogICAgICAvLyBjb25zb2xlLmxvZyhlZGl0b3IpOwogICAgfSwKICAgIG9uRWRpdG9yQmx1cigpIHt9LCAvLyDlpLHljrvnhKbngrnkuovku7YKICAgIG9uRWRpdG9yRm9jdXMoKSB7fSwgLy8g6I635b6X54Sm54K55LqL5Lu2CiAgICBvbkVkaXRvckNoYW5nZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnZWRpdG9yQ29uJywgdGhpcy5lZGl0b3JDb250ZW50KTsKICAgIH0sIC8vIOWGheWuueaUueWPmOS6i+S7tgogICAgcmV2b2tlQ2xpY2soKSB7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFuZ2VUZXh0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuZWRpdG9yQ29udGVudCA9PSB0aGlzLmNoYW5nZVRleHRbaV0pIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhbmdlVGV4dFtpXSk7CiAgICAgICAgICB0aGlzLmVkaXRvckNvbnRlbnQgPSB0aGlzLmNoYW5nZVRleHRbaSAtIDFdCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbmV4dENsaWNrKCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hhbmdlVGV4dC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmVkaXRvckNvbnRlbnQgPT0gdGhpcy5jaGFuZ2VUZXh0W2ldKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNoYW5nZVRleHRbaV0pOwogICAgICAgICAgdGhpcy5lZGl0b3JDb250ZW50ID0gdGhpcy5jaGFuZ2VUZXh0W2kgKyAxXQogICAgICAgIH0KCiAgICAgIH0KICAgIH0sCiAgfSwKCn0K"},{"version":3,"sources":["add-release.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"add-release.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!--  新增时输入 -->\r\n    <div class=\"add-release-container\">\r\n      <quill-editor v-model=\"editorContent\" ref=\"myQuillEditor\" :options=\"editorOption\" @blur=\"onEditorBlur($event)\"\r\n        @focus=\"onEditorFocus($event)\" @change=\"onEditorChange($event)\">\r\n      </quill-editor>\r\n      <input style=\"position: fixed;left: -2000px;top: -2000px;\" @change=\"handleAdd_quill_editor\" id=\"input_hide\"\r\n        class=\"upload_input\" type=\"file\">\r\n    </div>\r\n    <!-- 从数据库读取展示 -->\r\n    <!-- <div v-html=\"str\" class=\"ql-editor\">\r\n      {{str}}\r\n    </div> -->\r\n  </div>\r\n</template>\r\n<script>\r\n  import {\r\n    quillEditor\r\n  } from \"vue-quill-editor\"; //调用编辑器\r\n  import * as Quill from 'quill';\r\n  import 'quill/dist/quill.core.css';\r\n  import 'quill/dist/quill.snow.css';\r\n  import 'quill/dist/quill.bubble.css';\r\n  import {\r\n    addQuillTitle\r\n  } from '../quill_title';\r\n  import {\r\n    ImageDrop\r\n  } from 'quill-image-drop-module'\r\n  import ImageResize from 'quill-image-resize-module'\r\n  Quill.register('modules/imageResize', ImageResize)\r\n\r\n  let fontSizeStyle = Quill.import('attributors/style/size')\r\n  fontSizeStyle.whitelist = ['10px', '12px', '14px', '16px', '18px', '20px', '22px', '24px', '26px', '32px', '48px']\r\n  Quill.register(fontSizeStyle, true)\r\n  let fonts = [false, 'SimSun', 'SimHei', 'Microsoft-YaHei', 'KaiTi', 'FangSong', 'Arial', 'sans-serif']\r\n  let Font = Quill.import('formats/font')\r\n  Font.whitelist = fonts //将字体加入到白名单\r\n  Quill.register(Font, true)\r\n\r\n\r\n  export default {\r\n    components: {\r\n      quillEditor\r\n    },\r\n    data() {\r\n      return {\r\n        editorContent: \"\",\r\n        str: \"\",\r\n        editorOption: {\r\n          placeholder: \"请在这里输入\",\r\n          modules: {\r\n            toolbar: {\r\n              container: [\r\n                ['bold', 'italic', 'underline', 'strike'], //加粗，斜体，下划线，删除线\r\n                ['blockquote', 'code-block'], //引用，代码块\r\n                [{\r\n                  'header': 1\r\n                }, {\r\n                  'header': 2\r\n                }], // 标题，键值对的形式；1、2表示字体大小\r\n                [{\r\n                  'list': 'ordered'\r\n                }, {\r\n                  'list': 'bullet'\r\n                }], //列表\r\n                [{\r\n                  'script': 'sub'\r\n                }, {\r\n                  'script': 'super'\r\n                }], // 上下标\r\n                [{\r\n                  'indent': '-1'\r\n                }, {\r\n                  'indent': '+1'\r\n                }], // 缩进\r\n                [{\r\n                  'direction': 'rtl'\r\n                }], // 文本方向\r\n                [{\r\n                  'size': fontSizeStyle.whitelist\r\n                }], // 字体大小\r\n                [{\r\n                  'header': [1, 2, 3, 4, 5, 6]\r\n                }], //几级标题\r\n                [{\r\n                  'color': []\r\n                }, {\r\n                  'background': []\r\n                }], // 字体颜色，字体背景颜色\r\n                [{\r\n                  'font': fonts\r\n                }], //字体\r\n                [{\r\n                  'align': []\r\n                }], //对齐方式\r\n                ['clean'], //清除字体样式\r\n                ['image', 'video'], //上传图片、上传视频\r\n                // ['revoke'],\r\n                // ['redo']\r\n              ],\r\n              handlers: {\r\n                'image': function (value) {\r\n                  if (value) {\r\n                    document.querySelector('#input_hide').click()\r\n                  } else {\r\n                    this.quill.format('image', false)\r\n                  }\r\n                },\r\n                'video': function (value) {\r\n                  if (value) {\r\n                    document.querySelector('#input_hide').click()\r\n                  } else {\r\n                    this.quill.format('video', false)\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            imageDrop: true,\r\n            imageResize: {\r\n              displayStyles: {\r\n                backgroundColor: 'black',\r\n                border: 'none',\r\n                color: 'white'\r\n              },\r\n              modules: ['Resize', 'DisplaySize', 'Toolbar']\r\n            }\r\n          }\r\n        },\r\n        uploadFileType: '',\r\n        changeText: []\r\n      }\r\n    },\r\n    props: [\"editorDadContent\"],\r\n    computed: {\r\n      editor() {\r\n        return this.$refs.myQuillEditor.quill;\r\n      },\r\n    },\r\n\r\n    mounted() {\r\n      this.editorContent = this.editorDadContent;\r\n      console.log(this.editorContent);\r\n\r\n      // var revoke = document.querySelector('.quill-editor .ql-revoke') //获取元素\r\n      // // console.log(revoke);\r\n      // var redo = document.querySelector('.quill-editor .ql-redo')\r\n      // var Front = document.createElement('i') //创建元素\r\n      // var after = document.createElement('i')\r\n      // Front.className = \"iconfont icon-chexiao1\" //新增class属性\r\n      // after.className = \"iconfont icon-zhongzuo\"\r\n      // revoke.appendChild(Front) //追加到元素中\r\n      // redo.appendChild(after)\r\n\r\n      // let revokebtn = document.getElementsByClassName('ql-remove')[0];\r\n      // revokebtn.onclick = this.revokeClick;\r\n      // let redobtn = document.getElementsByClassName('ql-redo')[0];\r\n      // redobtn.onclick = this.nextClick;\r\n\r\n      addQuillTitle();\r\n    },\r\n    methods: {\r\n      // 富文本 上传图片\r\n      handleAdd_quill_editor(e) {\r\n        let file = e.target.files[0];\r\n        console.log(file);\r\n        this.uploadFileType = file.type;\r\n\r\n        let that = this;\r\n        if (file === undefined) {\r\n          return\r\n        }\r\n        if (file.size / 1024 > 1025) { // 文件大于1M（根据需求更改），进行压缩上传\r\n          this.photoCompress(file, { // 调用压缩图片方法\r\n            quality: 0.7\r\n          }, function (base64Codes) {\r\n            // console.log(\"压缩后：\" + base.length / 1024 + \" \" + base);\r\n            let bl = that.base64UrlToBlob(base64Codes)\r\n            // file.append('file', bl, 'file_' + Date.parse(new Date()) + '.jpg') // 文件对象\r\n            that.uploadLice(bl) // 请求图片上传接口\r\n          })\r\n        } else { // 小于等于1M 原图上传\r\n          this.uploadLice(file)\r\n        }\r\n      },\r\n      // base64 转 Blob 格式 和file格式\r\n      base64UrlToBlob(urlData) {\r\n        let arr = urlData.split(','),\r\n          mime = arr[0].match(/:(.*?);/)[1], // 去掉url的头，并转化为byte\r\n          bstr = atob(arr[1]), // 处理异常,将ascii码小于0的转换为大于0\r\n          n = bstr.length,\r\n          u8arr = new Uint8Array(n)\r\n        while (n--) {\r\n          u8arr[n] = bstr.charCodeAt(n)\r\n        }\r\n        // 转blob\r\n        // return new Blob([u8arr], {type: mime})\r\n        let filename = Date.parse(new Date()) + '.jpg'\r\n        // 转file\r\n        return new File([u8arr], filename, {\r\n          type: mime\r\n        })\r\n      },\r\n      /*压缩图片\r\n      file：文件(类型是图片格式)，\r\n      obj：文件压缩后对象width， height， quality(0-1)\r\n      callback：容器或者回调函数\r\n      */\r\n      photoCompress(file, obj, callback) {\r\n        let that = this\r\n        let ready = new FileReader()\r\n        /* 开始读取指定File对象中的内容. 读取操作完成时,返回一个URL格式的字符串. */\r\n        ready.readAsDataURL(file)\r\n        ready.onload = function () {\r\n          let re = this.result\r\n          that.canvasDataURL(re, obj, callback) // 开始压缩\r\n        }\r\n      },\r\n      /* 利用canvas数据化图片进行压缩 */\r\n      /* 图片转base64 */\r\n      canvasDataURL(path, obj, callback) {\r\n        let img = new Image()\r\n        img.src = path\r\n        img.onload = function () {\r\n          let that = this // 指到img\r\n          // 默认按比例压缩\r\n          let w = that.width,\r\n            h = that.height,\r\n            scale = w / h\r\n          w = obj.width || w\r\n          h = obj.height || (w / scale)\r\n          let quality = 0.7 // 默认图片质量为0.7\r\n          // 生成canvas\r\n          let canvas = document.createElement('canvas')\r\n          let ctx = canvas.getContext('2d')\r\n\r\n          // 创建属性节点\r\n          let anw = document.createAttribute('width')\r\n          anw.nodeValue = w\r\n          let anh = document.createAttribute('height')\r\n          anh.nodeValue = h\r\n          canvas.setAttributeNode(anw)\r\n          canvas.setAttributeNode(anh)\r\n          // 铺底色\r\n          ctx.fillStyle = \"#fff\";\r\n          ctx.fillRect(0, 0, w, h);\r\n          ctx.drawImage(that, 0, 0, w, h)\r\n\r\n          // 图像质量\r\n          if (obj.quality && obj.quality >= 1 && obj.quality < 0) {\r\n            quality = obj.quality\r\n          }\r\n          // quality值越小，所绘制出的图像越模糊\r\n          let base64 = canvas.toDataURL('image/jpeg', quality)\r\n          // 回调函数返回base64的值\r\n          callback(base64)\r\n        }\r\n      },\r\n      //  返回file文件，调用接口执行上传\r\n      uploadLice(file) {\r\n        console.log(file)\r\n        let formdata = new FormData(); //创建form对象\r\n        formdata.append(\"imgUrl\", file); //通过append向form对象添加数据\r\n        this.uploadImg(formdata);\r\n      },\r\n      uploadImg(formdata) {\r\n        let quill0 = this.$refs['myQuillEditor'].quill;\r\n\r\n        // let config = {\r\n        //   headers: {\r\n        //     'Content-Type': 'multipart/form-data',\r\n        //     'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwc3ciOiI1MDVkNjhhNzJhNWZkZTQyYWM3MzdlNjQyMTMxOGZiYyIsImlkIjoyOCwidXNlck5hbWUiOiJhZGExIn0.6PWOtXuf5L0exm4UjLQL5S7UhTQfm0ZO8vykJU-r75I'\r\n        //   }\r\n        // };\r\n\r\n        this.$axios.post(this.$store.state.baseUrl + \"/imgRecv\", formdata)\r\n          .then(res => {\r\n            let pathUrl = this.$store.state.baseUrl + res.data.imgUrl;\r\n            // 获取光标所在位置\r\n            let length = quill0.getSelection().index;\r\n            // 插入图片，res为服务器返回的图片链接地址\r\n            if (this.uploadFileType.indexOf('image') !== -1) {\r\n              quill0.insertEmbed(length, 'image', pathUrl);\r\n            } else {\r\n              quill0.insertEmbed(length, 'video', pathUrl);\r\n            }\r\n            // 调整光标到最后\r\n            quill0.setSelection(length + 1);\r\n          }).catch(err => {\r\n            console.log(err);\r\n          })\r\n      },\r\n\r\n      onEditorReady(editor) { // 准备编辑器\r\n        // console.log(editor);\r\n      },\r\n      onEditorBlur() {}, // 失去焦点事件\r\n      onEditorFocus() {}, // 获得焦点事件\r\n      onEditorChange() {\r\n        this.$emit('editorCon', this.editorContent);\r\n      }, // 内容改变事件\r\n      revokeClick() {\r\n        for (let i = 0; i < this.changeText.length; i++) {\r\n          if (this.editorContent == this.changeText[i]) {\r\n            console.log(this.changeText[i]);\r\n            this.editorContent = this.changeText[i - 1]\r\n          }\r\n        }\r\n      },\r\n      nextClick() {\r\n        for (let i = 0; i < this.changeText.length; i++) {\r\n          if (this.editorContent == this.changeText[i]) {\r\n            console.log(this.changeText[i]);\r\n            this.editorContent = this.changeText[i + 1]\r\n          }\r\n\r\n        }\r\n      },\r\n    },\r\n\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .add-release-container {\r\n    width: 80%;\r\n  }\r\n\r\n  .ql-toolbar.ql-snow .ql-formats {\r\n    margin-right: 5px;\r\n  }\r\n\r\n  .ql-snow .ql-editor {\r\n    min-height: 200px;\r\n  }\r\n\r\n  .ql-snow .ql-editor img {\r\n    max-width: 200px;\r\n    height: 200px;\r\n  }\r\n\r\n  .ql-editor .ql-video {\r\n    display: block;\r\n    max-width: 400px;\r\n    height: 300px;\r\n  }\r\n\r\n  .ql-snow .ql-picker.ql-size {\r\n    width: 65px;\r\n  }\r\n</style>"]}]}